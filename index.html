<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æƒ…å ±I ã‚¯ã‚¤ã‚ºï¼ˆæœ€çµ‚ç‰ˆã‚«ãƒ¼ãƒ‰é¢¨ï¼‰</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Baloo 2', cursive;
  background: linear-gradient(to bottom, #e0f7fa, #fff);
  margin: 0;
  padding: 20px;
}
h1 {
  text-align: center;
  color: #333;
  margin-bottom: 20px;
}
.quiz-box {
  max-width: 520px;
  margin: 0 auto;
  background: #ffffff;
  border-radius: 15px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  padding: 25px;
  transition: transform 0.2s;
}
.quiz-box:hover {
  transform: translateY(-3px);
}
#question {
  font-size: 20px;
  font-weight: 600;
  color: #222;
  margin-bottom: 25px;
}
.choice {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #dbeafe;
  border: none;
  border-radius: 12px;
  padding: 16px;
  margin: 12px 0;
  width: 100%;
  font-size: 17px;
  font-weight: 500;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}
.choice:hover {
  background: #bfdbfe;
  transform: translateY(-3px);
}
.choice img {
  max-width: 80%;
  margin-top: 8px;
  border-radius: 8px;
  transition: transform 0.3s ease;
}
.choice.correct::after {
  content: "âœ”";
  color: #16a34a;
  font-size: 22px;
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
}
.choice.incorrect::after {
  content: "âœ–";
  color: #dc2626;
  font-size: 22px;
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
}
#result {
  margin-top: 18px;
  font-weight: 600;
  font-size: 16px;
  min-height: 22px;
  transition: all 0.3s ease;
}
#progress, #score {
  margin-top: 12px;
  font-size: 14px;
  color: #555;
}
button#nextBtn, button#restartBtn {
  margin-top: 18px;
  padding: 12px 24px;
  font-size: 17px;
  border-radius: 10px;
  cursor: pointer;
  border: none;
  color: #fff;
  background: #4f46e5;
  transition: 0.3s;
}
button#nextBtn:hover, button#restartBtn:hover {
  background: #4338ca;
}
</style>
</head>
<body>
<h1>æƒ…å ±I ã‚¯ã‚¤ã‚ºï¼ˆæœ€çµ‚ç‰ˆã‚«ãƒ¼ãƒ‰é¢¨ï¼‰</h1>
<div class="quiz-box">
  <p id="question">ã“ã“ã«å•é¡Œæ–‡</p>
  <div id="choices"></div>
  <p id="result"></p>
  <p id="progress"></p>
  <p id="score"></p>
  <button id="nextBtn" style="display:none;">æ¬¡ã®å•é¡Œã¸</button>
  <button id="restartBtn" style="display:none;">æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™</button>
</div>

<script>
let quizData = [];
let currentQuiz = 0;
let score = 0;

const questionEl = document.getElementById("question");
const choicesEl = document.getElementById("choices");
const resultEl = document.getElementById("result");
const progressEl = document.getElementById("progress");
const scoreEl = document.getElementById("score");
const nextBtn = document.getElementById("nextBtn");
const restartBtn = document.getElementById("restartBtn");

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function loadQuiz() {
  const quiz = quizData[currentQuiz];
  questionEl.textContent = quiz.question;
  resultEl.textContent = "";
  choicesEl.innerHTML = "";
  nextBtn.style.display = "none";
  restartBtn.style.display = "none";

  const shuffledChoices = shuffleArray([...quiz.choices]);
  shuffledChoices.forEach((choice, index) => {
    const btn = document.createElement("button");
    btn.className = "choice";

    if (choice.text) btn.textContent = choice.text;
    if (choice.img) {
      const imgEl = document.createElement("img");
      imgEl.src = choice.img;
      btn.appendChild(imgEl);
    }

    btn.onclick = () => checkAnswer(btn, choice, quiz);
    choicesEl.appendChild(btn);
  });

  progressEl.textContent = `ç¬¬ ${currentQuiz + 1} å• / å…¨ ${quizData.length} å•`;
  scoreEl.textContent = `ã‚¹ã‚³ã‚¢: ${score} / ${quizData.length}`;
}

function checkAnswer(btn, selectedChoice, quiz) {
  const correctChoice = quiz.choices[quiz.answer];
  if (selectedChoice === correctChoice) {
    resultEl.textContent = "æ­£è§£ï¼ğŸ‰ " + quiz.explanation;
    resultEl.style.color = "#16a34a";
    btn.classList.add("correct");
    score++;
  } else {
    resultEl.textContent = "ä¸æ­£è§£â€¦ ğŸ˜¢ " + quiz.explanation;
    resultEl.style.color = "#dc2626";
    btn.classList.add("incorrect");
  }
  scoreEl.textContent = `ã‚¹ã‚³ã‚¢: ${score} / ${quizData.length}`;
  nextBtn.style.display = "inline-block";
}

nextBtn.onclick = () => {
  currentQuiz++;
  if (currentQuiz < quizData.length) {
    loadQuiz();
  } else {
    questionEl.textContent = "å…¨å•çµ‚äº†ï¼ãŠç–²ã‚Œã•ã¾ï¼";
    choicesEl.innerHTML = "";
    resultEl.textContent = `æœ€çµ‚ã‚¹ã‚³ã‚¢: ${score} / ${quizData.length}`;
    progressEl.textContent = "";
    nextBtn.style.display = "none";
    restartBtn.style.display = "inline-block";
  }
};

restartBtn.onclick = () => {
  currentQuiz = 0;
  score = 0;
  shuffleArray(quizData);
  loadQuiz();
};

// ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
quizData = [
  {
    "question": "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ä½•ã‚’è­˜åˆ¥ã™ã‚‹ç•ªå·ï¼Ÿ",
    "choices": [
      {"text":"ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚„æ©Ÿå™¨","img":null},
      {"text":"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åå‰","img":null},
      {"text":"ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª","img":null}
    ],
    "answer":0,
    "explanation":"IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®æ©Ÿå™¨ã‚’è­˜åˆ¥ã™ã‚‹ç•ªå·ã§ã™ã€‚"
  },
  {
    "question": "ã“ã®ã‚¢ã‚¤ã‚³ãƒ³ã¯ä½•ã‚’è¡¨ã—ã¦ã„ã‚‹ï¼Ÿ",
    "choices":[
      {"text":"","img":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Globe_icon.svg/1200px-Globe_icon.svg.png"},
      {"text":"ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯","img":null},
      {"text":"ãƒ—ãƒªãƒ³ã‚¿ãƒ¼","img":null}
    ],
    "answer":0,
    "explanation":"åœ°çƒã‚¢ã‚¤ã‚³ãƒ³ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚"
  }
];

loadQuiz();
</script>
</body>
</html>
